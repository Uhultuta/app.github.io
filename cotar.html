<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotador de Reservas - Icara√≠ Praia Hotel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        
        /* Language Selector */
        .language-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .lang-btn {
            padding: 8px 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 20px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .lang-btn.active {
            background: white;
            color: #1a6bb3;
            border-color: white;
        }
        
        .lang-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        /* Calculator Styles */
        .calculator {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        
        .calculator-title {
            font-size: 24px;
            font-weight: 700;
            color: #1a6bb3;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .form-input, .form-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #1a6bb3;
            box-shadow: 0 0 0 3px rgba(26, 107, 179, 0.1);
        }
        
        .radio-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        
        .radio-label {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .radio-label:hover {
            border-color: #1a6bb3;
        }
        
        .radio-label.selected {
            border-color: #1a6bb3;
            background: #f0f7ff;
        }
        
        .radio-input {
            margin-right: 10px;
        }
        
        .meal-options {
            background: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
            border-left: 4px solid #1a6bb3;
        }
        
        /* Room Configuration Styles */
        .room-configuration {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
        }
        
        .room-config-title {
            font-size: 16px;
            font-weight: 700;
            color: #1a6bb3;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .add-room-btn {
            background: #1a6bb3;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .add-room-btn:hover {
            background: #155a9d;
            transform: translateY(-2px);
        }
        
        .room-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 1px solid #e0e0e0;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr 1fr auto;
            gap: 10px;
            align-items: center;
        }
        
        .room-input {
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            font-size: 13px;
        }
        
        .remove-room-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }
        
        .remove-room-btn:hover {
            background: #ff5252;
        }
        
        .rooms-summary {
            background: #e7f3ff;
            padding: 12px 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 13px;
            color: #1a6bb3;
            font-weight: 600;
        }
        
        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }
        
        .action-btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .copy-btn {
            background: linear-gradient(135deg, #1a6bb3, #2c8cda);
            color: white;
        }
        
        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }
        
        /* Meal Details Toggle */
        .meal-details-toggle {
            background: #1a6bb3;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            margin-top: 10px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .meal-details-toggle:hover {
            background: #155a9d;
        }

        .meal-details-toggle.checked {
            background: #155a9d;
        }

        .custom-checkbox {
            width: 16px;
            height: 16px;
            border: 2px solid white;
            border-radius: 3px;
            background: transparent;
            position: relative;
            transition: all 0.3s ease;
        }

        .custom-checkbox.checked {
            background: white;
        }

        .custom-checkbox.checked::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #1a6bb3;
            font-size: 10px;
            font-weight: bold;
        }
        
        .meal-details {
            background: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
            border-left: 4px solid #1a6bb3;
            display: none;
        }
        
        .meal-details.active {
            display: block;
        }
        
        /* Preview Styles */
        .preview {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            height: fit-content;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        /* Voucher Styles */
        .quotation-header {
            background: linear-gradient(135deg, #1a6bb3, #2c8cda);
            padding: 25px 30px;
            position: relative;
            overflow: hidden;
        }

        .quotation-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .hotel-name {
            font-size: 24px;
            font-weight: 800;
            color: white;
            margin-bottom: 5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .quotation-title {
            font-size: 18px;
            font-weight: 600;
            color: rgba(255,255,255,0.9);
        }

        .quotation-badge {
            background: #ff6b6b;
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 12px;
            display: inline-block;
            margin-top: 10px;
        }

        .validity-notice {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border-left: 4px solid #ffc107;
            padding: 12px 20px;
            font-weight: 600;
            color: #856404;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quotation-body {
            padding: 25px 30px;
        }

        .section-title {
            font-size: 16px;
            color: #1a6bb3;
            font-weight: 700;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #eaeaea;
        }

        .details-grid {
            display: grid;
            gap: 12px;
            margin-bottom: 20px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f5f5f5;
        }

        .detail-label {
            font-weight: 600;
            color: #555;
            font-size: 14px;
        }

        .detail-value {
            color: #333;
            font-weight: 500;
        }

        .dates-container {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }

        .date-column {
            flex: 1;
            text-align: center;
            background: #f0f7ff;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #1a6bb3;
        }

        .date-label {
            font-size: 13px;
            color: #1a6bb3;
            font-weight: 700;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .date-value {
            font-size: 15px;
            font-weight: 800;
            color: #1a6bb3;
            margin-bottom: 3px;
        }

        .date-time {
            font-size: 12px;
            color: #666;
        }

        .pricing-breakdown {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #e0e0e0;
        }

        .price-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .price-row:last-child {
            border-bottom: none;
        }

        .total-row {
            background: #1a6bb3;
            color: white;
            padding: 12px 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-weight: 700;
        }

        .amenities-list {
            list-style: none;
            margin: 15px 0;
        }

        .amenities-list li {
            padding: 6px 0;
            font-size: 13px;
            color: #555;
            display: flex;
            align-items: center;
        }

        .amenities-list li::before {
            content: '‚úì';
            color: #4CAF50;
            font-weight: bold;
            margin-right: 8px;
        }

        .no-breakfast-notice {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
            font-size: 12px;
            color: #856404;
        }

        .meal-info-notice {
            background: #e7f3ff;
            border-left: 4px solid #1a6bb3;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
            font-size: 12px;
            color: #1a6bb3;
            font-weight: 600;
        }

        .quotation-footer {
            background: #1a6bb3;
            padding: 20px 30px;
            color: white;
            text-align: center;
        }

        .contact-info {
            font-size: 13px;
            line-height: 1.5;
            opacity: 0.9;
        }

        .policy-section {
            margin: 20px 0;
        }

        .policy-title {
            font-size: 14px;
            font-weight: 700;
            color: #1a6bb3;
            margin-bottom: 8px;
        }

        .policy-content {
            font-size: 12px;
            color: #555;
            line-height: 1.5;
        }

        .policy-notice {
            background: #f8fafc;
            border-left: 4px solid #1a6bb3;
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
            font-size: 12px;
            color: #1a6bb3;
        }

        .warning-notice {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
            font-size: 12px;
            color: #856404;
        }

        .group-payment-notice {
            background: #e7f3ff;
            border-left: 4px solid #1a6bb3;
            padding: 12px 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
            font-size: 12px;
            color: #1a6bb3;
            font-weight: 600;
        }

        /* Status indicator */
        .update-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }
        
        .update-status.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .calculator, .preview {
                padding: 20px;
            }
            
            .radio-group {
                grid-template-columns: 1fr;
            }
            
            .dates-container {
                flex-direction: column;
            }
            
            .action-buttons {
                grid-template-columns: 1fr;
            }
            
            .room-item {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .room-input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Status indicator -->
    <div class="update-status" id="updateStatus">Voucher atualizado ‚úì</div>
    
    <h1 style="color: white; text-align: center; margin-bottom: 10px;">Cotador de Reservas</h1>
    <p style="color: rgba(255,255,255,0.8); text-align: center; margin-bottom: 30px;">Icara√≠ Praia Hotel</p>
    
    <div class="language-selector">
        <button class="lang-btn active" data-lang="pt">üáßüá∑ Portugu√™s</button>
        <button class="lang-btn" data-lang="en">üá∫üá∏ English</button>
        <button class="lang-btn" data-lang="fr">üá´üá∑ Fran√ßais</button>
        <button class="lang-btn" data-lang="es">üá™üá∏ Espa√±ol</button>
    </div>
    
    <div class="container">
        <!-- Calculator -->
        <div class="calculator">
            <div class="calculator-title" id="calculatorTitle">Informa√ß√µes da Reserva</div>
            
            <div class="form-group">
                <label class="form-label" id="guestNameLabel">Nome do H√≥spede Principal</label>
                <input type="text" class="form-input" id="guestName" placeholder="Digite o nome completo">
            </div>
            
            <!-- Room Configuration Section -->
            <div class="room-configuration">
                <div class="room-config-title">
                    <span id="roomConfigLabel">Configura√ß√£o de Grupos</span>
                    <button class="add-room-btn" onclick="addRoom()" id="addRoomBtn">+ Adicionar Grupo</button>
                </div>
                
                <div id="roomsContainer">
                    <!-- Room items will be added here dynamically -->
                    <div class="room-item">
                        <input type="number" class="room-input" min="1" value="1" placeholder="Quantidade" onchange="updateRoomsSummary()">
                        <select class="room-input" onchange="updateRoomsSummary()">
                            <option value="1">1 H√≥spede</option>
                            <option value="2">2 H√≥spedes</option>
                            <option value="3">3 H√≥spedes</option>
                            <option value="4">4 H√≥spedes</option>
                        </select>
                        <input type="number" class="room-input" min="0" step="0.01" placeholder="Di√°ria (R$)" onchange="updateRoomsSummary()">
                        <input type="date" class="room-input" onchange="updateRoomsSummary()">
                        <input type="date" class="room-input" onchange="updateRoomsSummary()">
                        <button class="remove-room-btn" onclick="removeRoom(this)" style="display: none;">√ó</button>
                    </div>
                </div>
                
                <div class="rooms-summary" id="roomsSummary">
                    Total: 1 grupo(s) ‚Ä¢ 1 h√≥spede(s) ‚Ä¢ R$ 0,00/dia
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label" id="mealTypeLabel">Tipo de Refei√ß√£o</label>
                <div class="radio-group">
                    <label class="radio-label" id="labelBreakfast">
                        <input type="radio" name="mealType" class="radio-input" value="breakfast" checked>
                        <span id="breakfastLabel">Com Caf√© da Manh√£</span>
                    </label>
                    <label class="radio-label" id="labelNoBreakfast">
                        <input type="radio" name="mealType" class="radio-input" value="noBreakfast">
                        <span id="noBreakfastLabel">Sem Caf√© da Manh√£</span>
                    </label>
                    <label class="radio-label" id="labelHalfBoard">
                        <input type="radio" name="mealType" class="radio-input" value="halfBoard">
                        <span id="halfBoardLabel">Meia Pens√£o (MAP)</span>
                    </label>
                    <label class="radio-label" id="labelFullBoard">
                        <input type="radio" name="mealType" class="radio-input" value="fullBoard">
                        <span id="fullBoardLabel">Pens√£o Completa (FAP)</span>
                    </label>
                </div>
                
                <!-- Checkbox Toggle Button -->
                <button class="meal-details-toggle" onclick="toggleMealDetails()" id="mealDetailsToggle">
                    <div class="custom-checkbox" id="mealDetailsCheckbox"></div>
                    <span id="mealDetailsToggleText">üìã Exibir Detalhes das Refei√ß√µes</span>
                </button>
                
                <div class="meal-details" id="mealDetails">
                    <div class="meal-info-notice">
                        <strong>Caf√© da Manh√£:</strong> Servido das 6h √†s 10h no restaurante do hotel<br>
                        <strong>Meia Pens√£o (MAP):</strong> Inclui Almo√ßo OU Jantar + 1 bebida n√£o alco√≥lica + Sobremesa dispon√≠vel<br>
                        <strong>Pens√£o Completa (FAP):</strong> Inclui Almo√ßo + Jantar + 1 bebida n√£o alco√≥lica em cada refei√ß√£o + Sobremesa dispon√≠vel
                    </div>
                </div>
                
                <div class="meal-options" id="mealPriceSection" style="display: none;">
                    <label class="form-label" id="mealPriceLabel">Valor por Refei√ß√£o (por pessoa)</label>
                    <input type="number" class="form-input" id="mealPrice" min="0" step="0.01" placeholder="R$ 0,00">
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label" id="parkingLabel">Estacionamento</label>
                <select class="form-select" id="parking">
                    <option value="no">N√£o</option>
                    <option value="yes">Sim</option>
                </select>
            </div>
            
            <div class="action-buttons">
                <button class="action-btn copy-btn" onclick="copyQuotation()">
                    üìã <span id="copyButtonText">Copiar Cota√ß√£o</span>
                </button>
                <button class="action-btn whatsapp-btn" onclick="shareWhatsApp()">
                    üí¨ <span id="whatsappButtonText">Enviar por WhatsApp</span>
                </button>
            </div>
        </div>
        
        <!-- Preview -->
        <div class="preview" id="quotationPreview">
            <!-- O conte√∫do do voucher ser√° gerado aqui dinamicamente -->
        </div>
    </div>

    <script>
        // Language data
        const translations = {
            pt: {
                calculatorTitle: "Informa√ß√µes da Reserva",
                guestNameLabel: "Nome do H√≥spede Principal",
                roomConfigLabel: "Configura√ß√£o de Grupos",
                addRoomBtn: "+ Adicionar Grupo",
                mealTypeLabel: "Tipo de Refei√ß√£o",
                breakfastLabel: "Com Caf√© da Manh√£",
                noBreakfastLabel: "Sem Caf√© da Manh√£",
                halfBoardLabel: "Meia Pens√£o (MAP)",
                fullBoardLabel: "Pens√£o Completa (FAP)",
                mealPriceLabel: "Valor por Refei√ß√£o (por pessoa)",
                parkingLabel: "Estacionamento",
                copyButtonText: "Copiar Cota√ß√£o",
                whatsappButtonText: "Enviar por WhatsApp",
                mealDetailsShowText: "üìã Exibir Detalhes das Refei√ß√µes",
                mealDetailsHideText: "üìã Ocultar Detalhes das Refei√ß√µes",
                quotationTitle: "COTA√á√ÉO DE RESERVA",
                quotationBadge: "COTA√á√ÉO ‚Ä¢ V√ÅLIDA 24 HORAS",
                validityNotice: "Esta cota√ß√£o √© v√°lida por 24 horas. Tarifas e disponibilidade podem mudar ap√≥s a expira√ß√£o.",
                reservationInfo: "INFORMA√á√ïES DA RESERVA",
                guestName: "H√≥spede Principal:",
                apartments: "Apartamentos:",
                guests: "H√≥spedes:",
                mealType: "Tipo de Refei√ß√£o:",
                parking: "Estacionamento:",
                period: "Per√≠odo:",
                checkIn: "CHECK-IN",
                checkOut: "CHECK-OUT",
                fromTime: "A partir das 14:00",
                untilTime: "At√© √†s 12:00",
                financialDetails: "DETALHES FINANCIEROS",
                dailyPerRoom: "Di√°ria por apartamento:",
                roomsNights: "apto(s) √ó noite(s):",
                mealsIncluded: "Refei√ß√µes inclu√≠das:",
                parkingCost: "Estacionamento:",
                subtotal: "Subtotal:",
                issTax: "ISS (2% sobre di√°rias e refei√ß√µes):",
                total: "TOTAL:",
                includedServices: "SERVI√áOS INCLUSOS",
                breakfastIncluded: "Caf√© da manh√£ incluso das 6h √†s 10h, servido no restaurante",
                wifi: "Internet (wi-fi)",
                parkingInfo: "Estacionamento R$ 45,00 por dia - sujeito √† disponibilidade, solicita√ß√£o pr√©via e confirma√ß√£o - vagas limitadas",
                roomsInfo: "Apartamentos Standard com Smart TV, ar condicionado, telefone, frigobar, internet e cofre individual",
                restaurant: "Restaurante pr√≥prio (das 6h √†s 22h)",
                noBreakfastNotice: "Observa√ß√£o: Esta reserva n√£o inclui caf√© da manh√£. Caso deseje, poder√° adquirir o caf√© da manh√£ pelo valor de R$ 52,00 por dia por pessoa diretamente no restaurante.",
                halfBoardNotice: "A meia pens√£o contempla Almo√ßo OU Jantar + 1 bebida n√£o alco√≥lica + Sobremesa dispon√≠vel.",
                fullBoardNotice: "A pens√£o completa contempla Almo√ßo + Jantar + 1 bebida n√£o alco√≥lica em cada refei√ß√£o + Sobremesa dispon√≠vel.",
                hotelPolicies: "POL√çTICAS DO HOTEL",
                checkInOut: "Check-in / Check-out",
                checkInOutDetails: "‚Ä¢ Check-in: 14:00 / Check-out: 12:00<br>‚Ä¢ N√£o aceitamos Pets",
                minorsPolicy: "Pol√≠tica para Menores",
                minorsPolicyDetails: "Acompanhado pelos pais: Apresentar RG ou certid√£o de nascimento no check-in comprovando ser filho de um dos pais presentes<br>Desacompanhado dos pais: Apresentar RG ou certid√£o de nascimento E autoriza√ß√£o de ambos os pais reconhecida em cart√≥rio, por exig√™ncia legal",
                guaranteeNotice: "Para garantir a sua reserva, solicitamos o pagamento da primeira di√°ria + 2% ISS, lembrando que em caso de cancelamento da sua reserva fora do prazo, n√£o devolvemos o valor pago.",
                nonRefundableNotice: "Caso tenha feito sua reserva com condi√ß√£o de tarifa n√£o reembols√°vel, iremos cobrar o valor total da reserva e em caso de cancelamento e/ou altera√ß√µes, n√£o devolvemos o valor pr√©-pago.",
                groupPaymentNotice: "Toda reserva de grupo requer pr√©-pagamento integral antecipado ou 50% logo ap√≥s a confirma√ß√£o e o restante em at√© 15 dias antes do Check-in.",
                reservationGuarantee: "GARANTIA DA RESERVA",
                bankDeposit: "Dep√≥sito Banc√°rio ou Pix",
                bankDetails: "Bradesco - Ag√™ncia 0541 - Conta 17561-7<br>Icara√≠ Praia Hotel CNPJ: 27.890.847/0001-45<br>Pix: reservas@icaraipraiahotel.com.br<br><br>Ap√≥s realizar o dep√≥sito, favor enviar o comprovante para que possamos identific√°-lo com a sua reserva.",
                creditCard: "Cart√£o de Cr√™dito",
                creditCardDetails: "Solicite o link de pagamento por e-mail ou, se preferir, clique aqui para receber via WhatsApp.<br><br>Iremos debitar apenas o valor da primeira di√°ria + 2% ISS, por√©m caso tenha reserva com tarifa n√£o reembols√°vel, Carnaval, Reveillon e grandes eventos, ser√° debitado o valor total.",
                companyAgency: "Empresa/Ag√™ncia",
                companyAgencyDetails: "Solicitamos garantia para no-show, caso o h√≥spede n√£o se apresente no hotel ou seja solicitado cancelamento fora do prazo, ser√° cobrado o valor correspondente a primeira di√°ria + 2% ISS.<br><br>Reservas sem garantia de no-show ou sem pr√©-pagamento poder√£o ser canceladas sem aviso pr√©vio.",
                cancellationPolicy: "Prazo para Cancelamento",
                cancellationDetails: "Cancelamento da reserva sem √¥nus, at√© 72 horas antes do Check-in. Exceto para tarifas n√£o reembols√°veis - estas n√£o permitem cancelamento.<br><br>Os pedidos de cancelamento devem ser feitos somente por e-mail e s√≥ ser√£o validados ap√≥s a confirma√ß√£o pelo hotel.",
                taxNotes: "NOTAS FISCAIS",
                taxNotesDetails: "As notas fiscais ser√£o enviadas por e-mail em at√© 03 dias √∫teis ap√≥s o check-out.<br><br>As notas fiscais de servi√ßo ser√£o emitidas de acordo com os servi√ßos prestados, al√©m da nota de F&B em caso de consumo.<br><br>As notas fiscais devem ser conferidas no recebimento, pois temos prazo para altera√ß√µes, substitui√ß√£o e/ou cancelamento at√© o 5¬∫ dia √∫til do m√™s seguinte.<br><br>Caso o destinatario da nota n√£o seja informado no pedido de reserva, a mesma ser√° emitida em nome da empresa solicitante. Em caso de pessoa f√≠sica, ser√° emitida em nome do h√≥spede.<br><br>Caso haja algum erro/discrep√¢ncia ou se n√£o receber as notas dentro do prazo, favor entrar em contato imediatamente com o departamento financeiro.<br><br>Luciana Felix - Tel.(21) 2612-5030 ramal 3 - Whatsapp (21)2710-6142 - Email: financeiro@icaraipraiahotel.com.br<br><br>Mantenha sempre seu cadastro atualizado para evitar poss√≠veis problemas no recebimento das notas fiscais."
            },
            en: {
                calculatorTitle: "Reservation Information",
                guestNameLabel: "Main Guest Name",
                roomConfigLabel: "Group Configuration",
                addRoomBtn: "+ Add Group",
                mealTypeLabel: "Meal Type",
                breakfastLabel: "With Breakfast",
                noBreakfastLabel: "Without Breakfast",
                halfBoardLabel: "Half Board (MAP)",
                fullBoardLabel: "Full Board (FAP)",
                mealPriceLabel: "Price per Meal (per person)",
                parkingLabel: "Parking",
                copyButtonText: "Copy Quotation",
                whatsappButtonText: "Send via WhatsApp",
                mealDetailsShowText: "üìã Show Meal Details",
                mealDetailsHideText: "üìã Hide Meal Details",
                quotationTitle: "RESERVATION QUOTATION",
                quotationBadge: "QUOTATION ‚Ä¢ VALID 24 HOURS",
                validityNotice: "This quotation is valid for 24 hours. Rates and availability may change after expiration.",
                reservationInfo: "RESERVATION INFORMATION",
                guestName: "Main Guest:",
                apartments: "Apartments:",
                guests: "Guests:",
                mealType: "Meal Type:",
                parking: "Parking:",
                period: "Period:",
                checkIn: "CHECK-IN",
                checkOut: "CHECK-OUT",
                fromTime: "From 14:00",
                untilTime: "Until 12:00",
                financialDetails: "FINANCIAL DETAILS",
                dailyPerRoom: "Daily rate per apartment:",
                roomsNights: "room(s) √ó night(s):",
                mealsIncluded: "Meals included:",
                parkingCost: "Parking:",
                subtotal: "Subtotal:",
                issTax: "ISS (2% on rooms and meals):",
                total: "TOTAL:",
                includedServices: "INCLUDED SERVICES",
                breakfastIncluded: "Breakfast included from 6am to 10am, served in the restaurant",
                wifi: "Internet (wi-fi)",
                parkingInfo: "Parking R$ 45.00 per day - subject to availability, prior request and confirmation - limited spaces",
                roomsInfo: "Standard Apartments with Smart TV, air conditioning, telephone, minibar, internet and individual safe",
                restaurant: "Own restaurant (from 6am to 10pm)",
                noBreakfastNotice: "Note: This reservation does not include breakfast. If you wish, you can purchase breakfast for R$ 52.00 per day per person directly at the restaurant.",
                halfBoardNotice: "Half board includes Lunch OR Dinner + 1 non-alcoholic drink + Dessert available.",
                fullBoardNotice: "Full board includes Lunch + Dinner + 1 non-alcoholic drink in each meal + Dessert available.",
                hotelPolicies: "HOTEL POLICIES",
                checkInOut: "Check-in / Check-out",
                checkInOutDetails: "‚Ä¢ Check-in: 14:00 / Check-out: 12:00<br>‚Ä¢ We do not accept Pets",
                minorsPolicy: "Policy for Minors",
                minorsPolicyDetails: "Accompanied by parents: Present ID or birth certificate at check-in proving to be the child of one of the present parents<br>Unaccompanied by parents: Present ID or birth certificate AND authorization from both parents notarized, by legal requirement",
                guaranteeNotice: "To guarantee your reservation, we request payment of the first night + 2% ISS, remembering that in case of cancellation of your reservation outside the deadline, we do not refund the amount paid.",
                nonRefundableNotice: "If you have made your reservation with a non-refundable rate condition, we will charge the total amount of the reservation and in case of cancellation and/or changes, we do not refund the prepaid amount.",
                groupPaymentNotice: "All group reservations require full prepayment in advance or 50% upon confirmation and the remainder up to 15 days before Check-in.",
                reservationGuarantee: "RESERVATION GUARANTEE",
                bankDeposit: "Bank Deposit or Pix",
                bankDetails: "Bradesco - Agency 0541 - Account 17561-7<br>Icara√≠ Praia Hotel CNPJ: 27.890.847/0001-45<br>Pix: reservas@icaraipraiahotel.com.br<br><br>After making the deposit, please send the receipt so we can identify it with your reservation.",
                creditCard: "Credit Card",
                creditCardDetails: "Request the payment link by email or, if you prefer, click here to receive it via WhatsApp.<br><br>We will only charge the first night + 2% ISS, but if you have a reservation with a non-refundable rate, Carnival, New Year's Eve and major events, the total amount will be charged.",
                companyAgency: "Company/Agency",
                companyAgencyDetails: "We request a no-show guarantee, if the guest does not show up at the hotel or cancellation is requested outside the deadline, the amount corresponding to the first night + 2% ISS will be charged.<br><br>Reservations without a no-show guarantee or without prepayment may be canceled without prior notice.",
                cancellationPolicy: "Cancellation Policy",
                cancellationDetails: "Reservation cancellation without charge, up to 72 hours before Check-in. Except for non-refundable rates - these do not allow cancellation.<br><br>Cancellation requests must be made only by email and will only be validated after confirmation by the hotel.",
                taxNotes: "TAX NOTES",
                taxNotesDetails: "Invoices will be sent by email within 03 business days after check-out.<br><br>Service invoices will be issued according to the services provided, in addition to the F&B invoice in case of consumption.<br><br>Invoices must be checked upon receipt, as we have a deadline for changes, replacement and/or cancellation until the 5th business day of the following month.<br><br>If the invoice recipient is not informed in the reservation request, it will be issued in the name of the requesting company. In the case of an individual, it will be issued in the name of the guest.<br><br>If there is any error/discrepancy or if you do not receive the invoices within the deadline, please contact the financial department immediately.<br><br>Luciana Felix - Tel.(21) 2612-5030 extension 3 - Whatsapp (21)2710-6142 - Email: financeiro@icaraipraiahotel.com.br<br><br>Always keep your registration updated to avoid possible problems in receiving invoices."
            },
            fr: {
                calculatorTitle: "Informations de R√©servation",
                guestNameLabel: "Nom du Client Principal",
                roomConfigLabel: "Configuration des Groupes",
                addRoomBtn: "+ Ajouter Groupe",
                mealTypeLabel: "Type de Repas",
                breakfastLabel: "Avec Petit D√©jeuner",
                noBreakfastLabel: "Sans Petit D√©jeuner",
                halfBoardLabel: "Demi-Pension (MAP)",
                fullBoardLabel: "Pension Compl√®te (FAP)",
                mealPriceLabel: "Prix par Repas (par personne)",
                parkingLabel: "Parking",
                copyButtonText: "Copier le Devis",
                whatsappButtonText: "Envoyer par WhatsApp",
                mealDetailsShowText: "üìã Afficher les D√©tails des Repas",
                mealDetailsHideText: "üìã Masquer les D√©tails des Repas"
            },
            es: {
                calculatorTitle: "Informaci√≥n de la Reserva",
                guestNameLabel: "Nombre del Hu√©sped Principal",
                roomConfigLabel: "Configuraci√≥n de Grupos",
                addRoomBtn: "+ A√±adir Grupo",
                mealTypeLabel: "Tipo de Comida",
                breakfastLabel: "Con Desayuno",
                noBreakfastLabel: "Sin Desayuno",
                halfBoardLabel: "Media Pensi√≥n (MAP)",
                fullBoardLabel: "Pensi√≥n Completa (FAP)",
                mealPriceLabel: "Precio por Comida (por persona)",
                parkingLabel: "Estacionamiento",
                copyButtonText: "Copiar Cotizaci√≥n",
                whatsappButtonText: "Enviar por WhatsApp",
                mealDetailsShowText: "üìã Mostrar Detalles de las Comidas",
                mealDetailsHideText: "üìã Ocultar Detalles de las Comidas"
            }
        };

        // Current language
        let currentLang = 'pt';

        // Language selector functionality
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Update active button
                document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                // Update language
                currentLang = this.getAttribute('data-lang');
                updateLanguage();
                calculateQuotation();
            });
        });

        // Update interface language
        function updateLanguage() {
            const langData = translations[currentLang];
            
            // Update form labels
            document.getElementById('calculatorTitle').textContent = langData.calculatorTitle;
            document.getElementById('guestNameLabel').textContent = langData.guestNameLabel;
            document.getElementById('roomConfigLabel').textContent = langData.roomConfigLabel;
            document.getElementById('addRoomBtn').textContent = langData.addRoomBtn;
            document.getElementById('mealTypeLabel').textContent = langData.mealTypeLabel;
            document.getElementById('breakfastLabel').textContent = langData.breakfastLabel;
            document.getElementById('noBreakfastLabel').textContent = langData.noBreakfastLabel;
            document.getElementById('halfBoardLabel').textContent = langData.halfBoardLabel;
            document.getElementById('fullBoardLabel').textContent = langData.fullBoardLabel;
            document.getElementById('mealPriceLabel').textContent = langData.mealPriceLabel;
            document.getElementById('parkingLabel').textContent = langData.parkingLabel;
            document.getElementById('copyButtonText').textContent = langData.copyButtonText;
            document.getElementById('whatsappButtonText').textContent = langData.whatsappButtonText;
            
            // Update checkbox toggle text based on current state
            const checkbox = document.getElementById('mealDetailsCheckbox');
            const toggleText = document.getElementById('mealDetailsToggleText');
            if (checkbox.classList.contains('checked')) {
                toggleText.textContent = langData.mealDetailsHideText;
                document.getElementById('mealDetailsToggle').classList.add('checked');
            } else {
                toggleText.textContent = langData.mealDetailsShowText;
                document.getElementById('mealDetailsToggle').classList.remove('checked');
            }
            
            // Update placeholders
            document.getElementById('guestName').placeholder = currentLang === 'pt' ? 'Digite o nome completo' : 
                                                              currentLang === 'en' ? 'Enter full name' :
                                                              currentLang === 'fr' ? 'Entrez le nom complet' : 
                                                              'Ingrese el nombre completo';
            
            // Update room configuration options
            updateRoomConfigurationLanguage();
            updateRoomsSummary();
        }

        // Toggle meal details com checkbox
        function toggleMealDetails() {
            const mealDetails = document.getElementById('mealDetails');
            const checkbox = document.getElementById('mealDetailsCheckbox');
            const toggleButton = document.getElementById('mealDetailsToggle');
            const toggleText = document.getElementById('mealDetailsToggleText');
            
            checkbox.classList.toggle('checked');
            toggleButton.classList.toggle('checked');
            mealDetails.classList.toggle('active');
            
            // Update toggle text
            if (checkbox.classList.contains('checked')) {
                toggleText.textContent = translations[currentLang].mealDetailsHideText;
            } else {
                toggleText.textContent = translations[currentLang].mealDetailsShowText;
            }
            
            // Recalculate quotation to update the preview
            calculateQuotation();
            showUpdateStatus();
        }

        // Update room configuration language
        function updateRoomConfigurationLanguage() {
            const roomItems = document.querySelectorAll('.room-item');
            roomItems.forEach(room => {
                const quantityInput = room.querySelector('input[type="number"]:first-of-type');
                const guestsSelect = room.querySelector('select');
                const rateInput = room.querySelectorAll('input[type="number"]')[1];
                
                // Update select options
                guestsSelect.innerHTML = '';
                for (let i = 1; i <= 4; i++) {
                    const option = document.createElement('option');
                    option.value = i;
                    option.textContent = currentLang === 'pt' ? `${i} H√≥spede${i > 1 ? 's' : ''}` :
                                        currentLang === 'en' ? `${i} Guest${i > 1 ? 's' : ''}` :
                                        currentLang === 'fr' ? `${i} Client${i > 1 ? 's' : ''}` :
                                        `${i} Hu√©sped${i > 1 ? 'es' : ''}`;
                    guestsSelect.appendChild(option);
                }
                
                // Update placeholders
                quantityInput.placeholder = currentLang === 'pt' ? 'Quantidade' :
                                          currentLang === 'en' ? 'Quantity' :
                                          currentLang === 'fr' ? 'Quantit√©' :
                                          'Cantidad';
                
                rateInput.placeholder = currentLang === 'pt' ? 'Di√°ria (R$)' :
                                     currentLang === 'en' ? 'Daily Rate (R$)' :
                                     currentLang === 'fr' ? 'Tarif (R$)' :
                                     'Tarifa (R$)';
            });
        }

        // Add new room configuration
        function addRoom() {
            const roomsContainer = document.getElementById('roomsContainer');
            const roomItem = document.createElement('div');
            roomItem.className = 'room-item';
            
            const today = new Date().toISOString().split('T')[0];
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const tomorrowStr = tomorrow.toISOString().split('T')[0];
            
            roomItem.innerHTML = `
                <input type="number" class="room-input" min="1" value="1" placeholder="${currentLang === 'pt' ? 'Quantidade' : 
                                                                                      currentLang === 'en' ? 'Quantity' :
                                                                                      currentLang === 'fr' ? 'Quantit√©' :
                                                                                      'Cantidad'}" onchange="updateRoomsSummary()">
                <select class="room-input" onchange="updateRoomsSummary()">
                    ${Array.from({length: 4}, (_, i) => 
                        `<option value="${i+1}">${currentLang === 'pt' ? `${i+1} H√≥spede${i > 0 ? 's' : ''}` :
                                              currentLang === 'en' ? `${i+1} Guest${i > 0 ? 's' : ''}` :
                                              currentLang === 'fr' ? `${i+1} Client${i > 0 ? 's' : ''}` :
                                              `${i+1} Hu√©sped${i > 0 ? 'es' : ''}`}</option>`
                    ).join('')}
                </select>
                <input type="number" class="room-input" min="0" step="0.01" placeholder="${currentLang === 'pt' ? 'Di√°ria (R$)' :
                                                                                        currentLang === 'en' ? 'Daily Rate (R$)' :
                                                                                        currentLang === 'fr' ? 'Tarif (R$)' :
                                                                                        'Tarifa (R$)'}" onchange="updateRoomsSummary()">
                <input type="date" class="room-input" value="${today}" onchange="updateRoomsSummary()">
                <input type="date" class="room-input" value="${tomorrowStr}" onchange="updateRoomsSummary()">
                <button class="remove-room-btn" onclick="removeRoom(this)">√ó</button>
            `;
            
            roomsContainer.appendChild(roomItem);
            updateRoomsSummary();
            
            // Show remove buttons for all rooms if there's more than one
            const removeButtons = document.querySelectorAll('.remove-room-btn');
            if (removeButtons.length > 1) {
                removeButtons.forEach(btn => btn.style.display = 'block');
            }
        }

        // Remove room configuration
        function removeRoom(button) {
            const roomItem = button.closest('.room-item');
            roomItem.remove();
            updateRoomsSummary();
            
            // Hide remove buttons if there's only one room left
            const removeButtons = document.querySelectorAll('.remove-room-btn');
            if (removeButtons.length === 1) {
                removeButtons[0].style.display = 'none';
            }
        }

        // Update rooms summary
        function updateRoomsSummary() {
            const roomItems = document.querySelectorAll('.room-item');
            let totalGroups = 0;
            let totalGuests = 0;
            let totalDailyRate = 0;
            
            roomItems.forEach(room => {
                const quantity = parseInt(room.querySelector('input[type="number"]:first-of-type').value) || 0;
                const guests = parseInt(room.querySelector('select').value) || 0;
                const rate = parseFloat(room.querySelectorAll('input[type="number"]')[1].value) || 0;
                
                totalGroups += quantity;
                totalGuests += quantity * guests;
                totalDailyRate += quantity * rate;
            });
            
            const formatCurrency = (value) => {
                return 'R$ ' + value.toFixed(2).replace('.', ',').replace(/\d(?=(\d{3})+,)/g, '$&.');
            };
            
            const summaryText = currentLang === 'pt' ? `Total: ${totalGroups} grupo(s) ‚Ä¢ ${totalGuests} h√≥spede(s) ‚Ä¢ ${formatCurrency(totalDailyRate)}/dia` :
                              currentLang === 'en' ? `Total: ${totalGroups} group(s) ‚Ä¢ ${totalGuests} guest(s) ‚Ä¢ ${formatCurrency(totalDailyRate)}/day` :
                              currentLang === 'fr' ? `Total: ${totalGroups} groupe(s) ‚Ä¢ ${totalGuests} client(s) ‚Ä¢ ${formatCurrency(totalDailyRate)}/jour` :
                              `Total: ${totalGroups} grupo(s) ‚Ä¢ ${totalGuests} hu√©sped(es) ‚Ä¢ ${formatCurrency(totalDailyRate)}/d√≠a`;
            
            document.getElementById('roomsSummary').textContent = summaryText;
            calculateQuotation();
        }

        // Show update status
        function showUpdateStatus() {
            const statusElement = document.getElementById('updateStatus');
            statusElement.classList.add('show');
            
            setTimeout(() => {
                statusElement.classList.remove('show');
            }, 2000);
        }

        // Meal type selection
        document.querySelectorAll('input[name="mealType"]').forEach(radio => {
            radio.addEventListener('change', function() {
                // Update radio label styles
                document.querySelectorAll('.radio-label').forEach(label => {
                    label.classList.remove('selected');
                });
                document.getElementById('label' + this.value.charAt(0).toUpperCase() + this.value.slice(1)).classList.add('selected');
                
                // Show/hide meal price input
                const mealPriceSection = document.getElementById('mealPriceSection');
                if (this.value === 'halfBoard' || this.value === 'fullBoard') {
                    mealPriceSection.style.display = 'block';
                } else {
                    mealPriceSection.style.display = 'none';
                }
                
                calculateQuotation();
                showUpdateStatus();
            });
        });
        
        // Add event listeners for real-time updates
        document.querySelectorAll('#guestName, #mealPrice, #parking').forEach(input => {
            input.addEventListener('input', function() {
                calculateQuotation();
                showUpdateStatus();
            });
            input.addEventListener('change', function() {
                calculateQuotation();
                showUpdateStatus();
            });
        });
        
        // Add event listeners to all room inputs for real-time updates
        document.addEventListener('input', function(e) {
            if (e.target.classList.contains('room-input')) {
                calculateQuotation();
                showUpdateStatus();
            }
        });
        
        // Initialize first radio as selected
        document.getElementById('labelBreakfast').classList.add('selected');
        
        // Initial calculation
        updateRoomsSummary();
        
        function calculateQuotation() {
            // Get input values
            const guestName = document.getElementById('guestName').value || '';
            const mealType = document.querySelector('input[name="mealType"]:checked').value;
            const mealPrice = parseFloat(document.getElementById('mealPrice').value) || 0;
            const parking = document.getElementById('parking').value;
            
            // Check if meal details should be shown in voucher
            const showMealDetails = document.getElementById('mealDetailsCheckbox').classList.contains('checked');
            
            // Calculate room configurations
            const roomItems = document.querySelectorAll('.room-item');
            let totalGroups = 0;
            let totalGuests = 0;
            let totalDailyRate = 0;
            let totalNights = 0;
            const groupDetails = [];
            
            roomItems.forEach((room, index) => {
                const quantity = parseInt(room.querySelector('input[type="number"]:first-of-type').value) || 0;
                const guests = parseInt(room.querySelector('select').value) || 0;
                const rate = parseFloat(room.querySelectorAll('input[type="number"]')[1].value) || 0;
                const checkIn = room.querySelectorAll('input[type="date"]')[0].value;
                const checkOut = room.querySelectorAll('input[type="date"]')[1].value;
                
                // Calculate nights for this group
                let nights = 0;
                if (checkIn && checkOut) {
                    const checkInDate = new Date(checkIn);
                    const checkOutDate = new Date(checkOut);
                    const timeDiff = checkOutDate.getTime() - checkInDate.getTime();
                    nights = Math.ceil(timeDiff / (1000 * 3600 * 24));
                    totalNights += nights * quantity;
                }
                
                totalGroups += quantity;
                totalGuests += quantity * guests;
                
                // MODIFICA√á√ÉO: Quando os detalhes n√£o est√£o sendo exibidos, 
                // o valor das pens√µes √© inclu√≠do diretamente na di√°ria
                let finalRate = rate;
                let mealCostForThisGroup = 0;
                
                if ((mealType === 'halfBoard' || mealType === 'fullBoard') && !showMealDetails) {
                    const mealsPerDay = mealType === 'halfBoard' ? 1 : 2;
                    const additionalMealCost = mealPrice * guests * mealsPerDay;
                    
                    // Fundir o valor das refei√ß√µes com a di√°ria
                    finalRate += additionalMealCost;
                }
                
                totalDailyRate += quantity * finalRate * nights;
                
                if (quantity > 0) {
                    groupDetails.push({
                        quantity: quantity,
                        guests: guests,
                        rate: rate,
                        finalRate: finalRate, // Adicionado: taxa final ap√≥s fundir pens√µes
                        checkIn: checkIn,
                        checkOut: checkOut,
                        nights: nights,
                        groupTotal: quantity * finalRate * nights
                    });
                }
            });
            
            if (totalGroups === 0) {
                // Show empty preview if no groups
                document.getElementById('quotationPreview').innerHTML = `
                    <div class="quotation-header">
                        <div class="hotel-name">ICARA√ç PRAIA HOTEL</div>
                        <div class="quotation-title">${translations[currentLang].quotationTitle}</div>
                    </div>
                    <div class="quotation-body" style="text-align: center; padding: 40px;">
                        <p style="color: #666; font-size: 16px;">
                            ${currentLang === 'pt' ? 'Configure os grupos para gerar a cota√ß√£o' : 
                              currentLang === 'en' ? 'Configure groups to generate the quotation' :
                              currentLang === 'fr' ? 'Configurez les groupes pour g√©n√©rer le devis' : 
                              'Configure los grupos para generar la cotizaci√≥n'}
                        </p>
                    </div>
                `;
                return;
            }
            
            // Calculate base amount (di√°ria por quarto)
            let baseAmount = totalDailyRate;
            
            // Calculate meal costs (por pessoa) - APENAS quando detalhes est√£o sendo exibidos
            let mealDescription = '';
            let mealCost = 0;
            let mealsPerDay = 0;
            let mealInfoNotice = '';
            
            const mealTypes = {
                'breakfast': translations[currentLang].breakfastLabel,
                'noBreakfast': translations[currentLang].noBreakfastLabel,
                'halfBoard': translations[currentLang].halfBoardLabel,
                'fullBoard': translations[currentLang].fullBoardLabel
            };
            
            switch(mealType) {
                case 'breakfast':
                    mealDescription = mealTypes.breakfast;
                    break;
                case 'noBreakfast':
                    mealDescription = mealTypes.noBreakfast;
                    break;
                case 'halfBoard':
                    mealDescription = mealTypes.halfBoard;
                    mealsPerDay = 1;
                    // MODIFICA√á√ÉO: S√≥ calcula custo separado se detalhes estiverem sendo exibidos
                    if (showMealDetails) {
                        mealCost = mealPrice * totalGuests * mealsPerDay * totalNights;
                    }
                    mealInfoNotice = showMealDetails ? translations[currentLang].halfBoardNotice : '';
                    break;
                case 'fullBoard':
                    mealDescription = mealTypes.fullBoard;
                    mealsPerDay = 2;
                    // MODIFICA√á√ÉO: S√≥ calcula custo separado se detalhes estiverem sendo exibidos
                    if (showMealDetails) {
                        mealCost = mealPrice * totalGuests * mealsPerDay * totalNights;
                    }
                    mealInfoNotice = showMealDetails ? translations[currentLang].fullBoardNotice : '';
                    break;
            }
            
            // Calculate parking cost (por quarto)
            let parkingCost = 0;
            if (parking === 'yes') {
                parkingCost = 45 * totalGroups * totalNights;
            }
            
            // Calculate ISS tax (2% sobre di√°rias e refei√ß√µes, excluindo estacionamento)
            const issTax = (baseAmount + mealCost) * 0.02;
            
            // Calculate final total
            const total = baseAmount + mealCost + parkingCost + issTax;
            
            // Calculate average rate per night (sem ISS e sem estacionamento)
            const avgRatePerNight = totalNights > 0 ? (baseAmount + mealCost) / totalNights : 0;
            
            // Format currency
            const formatCurrency = (value) => {
                return 'R$ ' + value.toFixed(2).replace('.', ',').replace(/\d(?=(\d{3})+,)/g, '$&.');
            };
            
            // Format dates for display
            const formatDateForDisplay = (dateString) => {
                if (!dateString) return '-';
                const date = new Date(dateString);
                return date.toLocaleDateString('pt-BR');
            };
            
            // Generate group details HTML
            let groupDetailsHTML = '';
            groupDetails.forEach((group, index) => {
                // MODIFICA√á√ÉO: Mostra a taxa correta baseada no estado do checkbox
                const displayedRate = !showMealDetails && (mealType === 'halfBoard' || mealType === 'fullBoard') ? 
                    group.finalRate : group.rate;
                
                groupDetailsHTML += `
                    <div class="detail-row">
                        <span class="detail-label">${currentLang === 'pt' ? 'Grupo' : 
                                                   currentLang === 'en' ? 'Group' :
                                                   currentLang === 'fr' ? 'Groupe' : 
                                                   'Grupo'} ${index + 1}:</span>
                        <span class="detail-value">${group.quantity} ${currentLang === 'pt' ? 'apartamento(s)' : 
                                                                     currentLang === 'en' ? 'apartment(s)' :
                                                                     currentLang === 'fr' ? 'appartement(s)' : 
                                                                     'apartamento(s)'} ‚Ä¢ ${group.guests} ${currentLang === 'pt' ? 'h√≥spede(s)' : 
                                                                                                        currentLang === 'en' ? 'guest(s)' :
                                                                                                        currentLang === 'fr' ? 'client(s)' : 
                                                                                                        'hu√©sped(es)'} ‚Ä¢ ${formatCurrency(displayedRate)}/${currentLang === 'pt' ? 'dia' : 
                                                                                                                                                     currentLang === 'en' ? 'day' :
                                                                                                                                                     currentLang === 'fr' ? 'jour' : 
                                                                                                                                                     'd√≠a'}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">${currentLang === 'pt' ? 'Per√≠odo' : 
                                                   currentLang === 'en' ? 'Period' :
                                                   currentLang === 'fr' ? 'P√©riode' : 
                                                   'Per√≠odo'} ${index + 1}:</span>
                        <span class="detail-value">${formatDateForDisplay(group.checkIn)} - ${formatDateForDisplay(group.checkOut)} (${group.nights} ${currentLang === 'pt' ? 'noite(s)' : 
                                                                                                                                    currentLang === 'en' ? 'night(s)' :
                                                                                                                                    currentLang === 'fr' ? 'nuit(s)' : 
                                                                                                                                    'noche(s)'})</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">${currentLang === 'pt' ? 'Subtotal Grupo' : 
                                                   currentLang === 'en' ? 'Group Subtotal' :
                                                   currentLang === 'fr' ? 'Sous-total Groupe' : 
                                                   'Subtotal Grupo'} ${index + 1}:</span>
                        <span class="detail-value">${formatCurrency(group.groupTotal)}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">${currentLang === 'pt' ? 'Di√°ria M√©dia Grupo' : 
                                                   currentLang === 'en' ? 'Group Average Rate' :
                                                   currentLang === 'fr' ? 'Tarif Moyen Groupe' : 
                                                   'Tarifa Media Grupo'} ${index + 1}:</span>
                        <span class="detail-value">${group.nights > 0 ? formatCurrency(group.groupTotal / group.nights) : formatCurrency(0)}/${currentLang === 'pt' ? 'noite' : 
                                                                                                                                             currentLang === 'en' ? 'night' :
                                                                                                                                             currentLang === 'fr' ? 'nuit' : 
                                                                                                                                             'noche'}</span>
                    </div>
                `;
            });
            
            // Generate quotation HTML
            const langData = translations[currentLang];
            const quotationHTML = `
                <div class="quotation-header">
                    <div class="hotel-name">ICARA√ç PRAIA HOTEL</div>
                    <div class="quotation-title">${langData.quotationTitle}</div>
                    <div class="quotation-badge">${langData.quotationBadge}</div>
                </div>
                
                <div class="validity-notice">
                    <span>‚ö†Ô∏è</span>
                    ${langData.validityNotice}
                </div>
                
                <div class="quotation-body">
                    <div class="section-title">${langData.reservationInfo}</div>
                    <div class="details-grid">
                        <div class="detail-row">
                            <span class="detail-label">${langData.guestName}</span>
                            <span class="detail-value">${guestName || (currentLang === 'pt' ? 'N√£o informado' : 
                                                                      currentLang === 'en' ? 'Not informed' :
                                                                      currentLang === 'fr' ? 'Non inform√©' : 
                                                                      'No informado')}</span>
                        </div>
                        ${groupDetailsHTML}
                        <div class="detail-row">
                            <span class="detail-label">${langData.mealType}</span>
                            <span class="detail-value">${mealDescription}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">${langData.parking}</span>
                            <span class="detail-value">${parking === 'yes' ? 
                                (currentLang === 'pt' ? 'Sim' : 
                                 currentLang === 'en' ? 'Yes' :
                                 currentLang === 'fr' ? 'Oui' : 
                                 'S√≠') : 
                                (currentLang === 'pt' ? 'N√£o' : 
                                 currentLang === 'en' ? 'No' :
                                 currentLang === 'fr' ? 'Non' : 
                                 'No')}</span>
                        </div>
                    </div>
                    
                    <div class="section-title">${langData.financialDetails}</div>
                    <div class="pricing-breakdown">
                        ${groupDetails.map((group, index) => `
                            <div class="price-row">
                                <span>${currentLang === 'pt' ? 'Grupo' : 
                                       currentLang === 'en' ? 'Group' :
                                       currentLang === 'fr' ? 'Groupe' : 
                                       'Grupo'} ${index + 1} (${group.quantity} ${currentLang === 'pt' ? 'apto(s)' : 
                                                                               currentLang === 'en' ? 'room(s)' :
                                                                               currentLang === 'fr' ? 'chambre(s)' : 
                                                                               'habitaci√≥n(es)'} √ó ${group.nights} ${currentLang === 'pt' ? 'noite(s)' : 
                                                                                                                    currentLang === 'en' ? 'night(s)' :
                                                                                                                    currentLang === 'fr' ? 'nuit(s)' : 
                                                                                                                    'noche(s)'}):</span>
                                <span>${formatCurrency(group.groupTotal)}</span>
                            </div>
                        `).join('')}
                        ${mealCost > 0 && showMealDetails ? `
                        <div class="price-row">
                            <span>${langData.mealsIncluded} (${totalGuests} ${currentLang === 'pt' ? 'h√≥spedes' : 
                                                                             currentLang === 'en' ? 'guests' :
                                                                             currentLang === 'fr' ? 'clients' : 
                                                                             'hu√©spedes'} √ó ${mealsPerDay} ${currentLang === 'pt' ? 'refei√ß√µes/dia' : 
                                                                                                          currentLang === 'en' ? 'meals/day' :
                                                                                                          currentLang === 'fr' ? 'repas/jour' : 
                                                                                                          'comidas/d√≠a'} √ó ${totalNights} ${currentLang === 'pt' ? 'noites' : 
                                                                                                                                         currentLang === 'en' ? 'nights' :
                                                                                                                                         currentLang === 'fr' ? 'nuits' : 
                                                                                                                                         'noches'})</span>
                            <span>${formatCurrency(mealCost)}</span>
                        </div>
                        ` : ''}
                        ${parkingCost > 0 ? `
                        <div class="price-row">
                            <span>${langData.parkingCost} (${totalGroups} ${currentLang === 'pt' ? 'vaga(s)' : 
                                                                          currentLang === 'en' ? 'spot(s)' :
                                                                          currentLang === 'fr' ? 'place(s)' : 
                                                                          'plaza(s)'} √ó ${totalNights} ${currentLang === 'pt' ? 'noites' : 
                                                                                                      currentLang === 'en' ? 'nights' :
                                                                                                      currentLang === 'fr' ? 'nuits' : 
                                                                                                      'noches'})</span>
                            <span>${formatCurrency(parkingCost)}</span>
                        </div>
                        ` : ''}
                        <div class="price-row">
                            <span>${langData.subtotal}</span>
                            <span>${formatCurrency(baseAmount + mealCost + parkingCost)}</span>
                        </div>
                        <div class="price-row">
                            <span>${langData.issTax}</span>
                            <span>${formatCurrency(issTax)}</span>
                        </div>
                        <div class="price-row total-row">
                            <span>${langData.total}</span>
                            <span>${formatCurrency(total)}</span>
                        </div>
                        <div class="price-row">
                            <span>${currentLang === 'pt' ? 'Di√°ria M√©dia Total (sem ISS e estacionamento):' : 
                                 currentLang === 'en' ? 'Total Average Rate (without ISS and parking):' :
                                 currentLang === 'fr' ? 'Tarif Moyen Total (sans ISS et stationnement):' : 
                                 'Tarifa Media Total (sin ISS y estacionamiento):'}</span>
                            <span>${formatCurrency(avgRatePerNight)}/${currentLang === 'pt' ? 'noite' : 
                                                                      currentLang === 'en' ? 'night' :
                                                                      currentLang === 'fr' ? 'nuit' : 
                                                                      'noche'}</span>
                        </div>
                    </div>
                    
                    <div class="section-title">${langData.includedServices}</div>
                    <ul class="amenities-list">
                        ${mealType !== 'noBreakfast' ? `<li>${langData.breakfastIncluded}</li>` : ''}
                        <li>${langData.wifi}</li>
                        <li>${langData.parkingInfo}</li>
                        <li>${langData.roomsInfo}</li>
                        <li>${langData.restaurant}</li>
                    </ul>
                    
                    ${mealType === 'noBreakfast' ? `
                    <div class="no-breakfast-notice">
                        <strong>${currentLang === 'pt' ? 'Observa√ß√£o:' : 
                                 currentLang === 'en' ? 'Note:' :
                                 currentLang === 'fr' ? 'Remarque:' : 
                                 'Nota:'}</strong> ${langData.noBreakfastNotice}
                    </div>
                    ` : ''}
                    
                    ${mealInfoNotice ? `
                    <div class="meal-info-notice">
                        ${mealInfoNotice}
                    </div>
                    ` : ''}
                    
                    <div class="group-payment-notice">
                        ${langData.groupPaymentNotice}
                    </div>
                    
                    <div class="section-title">${langData.hotelPolicies}</div>
                    <div class="policy-section">
                        <div class="policy-title">${langData.checkInOut}</div>
                        <div class="policy-content">
                            ${langData.checkInOutDetails}
                        </div>
                    </div>
                    
                    <div class="policy-section">
                        <div class="policy-title">${langData.minorsPolicy}</div>
                        <div class="policy-content">
                            ${langData.minorsPolicyDetails}
                        </div>
                    </div>
                    
                    <div class="policy-notice">
                        ${langData.guaranteeNotice}
                    </div>
                    
                    <div class="warning-notice">
                        ${langData.nonRefundableNotice}
                    </div>
                    
                    <div class="section-title">${langData.reservationGuarantee}</div>
                    
                    <div class="policy-section">
                        <div class="policy-title">${langData.bankDeposit}</div>
                        <div class="policy-content">
                            ${langData.bankDetails}
                        </div>
                    </div>
                    
                    <div class="policy-section">
                        <div class="policy-title">${langData.creditCard}</div>
                        <div class="policy-content">
                            ${langData.creditCardDetails}
                        </div>
                    </div>
                    
                    <div class="policy-section">
                        <div class="policy-title">${langData.companyAgency}</div>
                        <div class="policy-content">
                            ${langData.companyAgencyDetails}
                        </div>
                    </div>
                    
                    <div class="policy-section">
                        <div class="policy-title">${langData.cancellationPolicy}</div>
                        <div class="policy-content">
                            ${langData.cancellationDetails}
                        </div>
                    </div>
                    
                    <div class="section-title">${langData.taxNotes}</div>
                    <div class="policy-content">
                        ${langData.taxNotesDetails}
                    </div>
                </div>
                
                <div class="quotation-footer">
                    <div class="contact-info">
                        <strong>ICARA√ç PRAIA HOTEL</strong><br>
                        Rua Belis√°rio Augusto 21, Icara√≠, Niter√≥i - 24.230-200<br>
                        üìû (21) 2612-5030 ‚Ä¢ üìß reservas@icaraipraiahotel.com.br<br>
                        üåê www.icaraipraiahotel.com.br
                    </div>
                </div>
            `;
            
            // Update preview
            document.getElementById('quotationPreview').innerHTML = quotationHTML;
        }
        
        function copyQuotation() {
            // Create a temporary container to preserve styling
            const tempContainer = document.createElement('div');
            tempContainer.style.position = 'absolute';
            tempContainer.style.left = '-9999px';
            tempContainer.style.width = '600px';
            tempContainer.style.padding = '20px';
            tempContainer.style.backgroundColor = 'white';
            tempContainer.style.fontFamily = 'Segoe UI, system-ui, sans-serif';
            
            // Clone the preview content
            const previewContent = document.getElementById('quotationPreview').cloneNode(true);
            tempContainer.appendChild(previewContent);
            document.body.appendChild(tempContainer);
            
            // Select the content
            const range = document.createRange();
            range.selectNode(tempContainer);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            
            try {
                const successful = document.execCommand('copy');
                window.getSelection().removeAllRanges();
                document.body.removeChild(tempContainer);
                
                if (successful) {
                    alert(currentLang === 'pt' ? 'Cota√ß√£o copiada para a √°rea de transfer√™ncia!' :
                          currentLang === 'en' ? 'Quotation copied to clipboard!' :
                          currentLang === 'fr' ? 'Devis copi√© dans le presse-papiers !' :
                          '¬°Cotizaci√≥n copiada al portapapeles!');
                } else {
                    alert(currentLang === 'pt' ? 'Erro ao copiar a cota√ß√£o. Tente novamente.' :
                          currentLang === 'en' ? 'Error copying quotation. Please try again.' :
                          currentLang === 'fr' ? 'Erreur lors de la copie du devis. Veuillez r√©essayer.' :
                          'Error al copiar la cotizaci√≥n. Por favor, int√©ntelo de nuevo.');
                }
            } catch (err) {
                document.body.removeChild(tempContainer);
                alert(currentLang === 'pt' ? 'Erro ao copiar a cota√ß√£o: ' + err :
                      currentLang === 'en' ? 'Error copying quotation: ' + err :
                      currentLang === 'fr' ? 'Erreur lors de la copie du devis : ' + err :
                      'Error al copiar la cotizaci√≥n: ' + err);
            }
        }
        
        function shareWhatsApp() {
            const guestName = document.getElementById('guestName').value || '';
            const mealType = document.querySelector('input[name="mealType"]:checked').value;
            const parking = document.getElementById('parking').value;

            // Calculate room configurations
            const roomItems = document.querySelectorAll('.room-item');
            let totalGroups = 0;
            let totalGuests = 0;
            let totalNights = 0;
            const groupDetails = [];

            roomItems.forEach(room => {
                const quantity = parseInt(room.querySelector('input[type="number"]:first-of-type').value) || 0;
                const guests = parseInt(room.querySelector('select').value) || 0;
                const checkIn = room.querySelectorAll('input[type="date"]')[0].value;
                const checkOut = room.querySelectorAll('input[type="date"]')[1].value;

                // Calculate nights for this group
                let nights = 0;
                if (checkIn && checkOut) {
                    const checkInDate = new Date(checkIn);
                    const checkOutDate = new Date(checkOut);
                    const timeDiff = checkOutDate.getTime() - checkInDate.getTime();
                    nights = Math.ceil(timeDiff / (1000 * 3600 * 24));
                    totalNights += nights * quantity;
                }

                totalGroups += quantity;
                totalGuests += quantity * guests;

                if (quantity > 0) {
                    groupDetails.push({
                        quantity: quantity,
                        guests: guests,
                        checkIn: checkIn,
                        checkOut: checkOut,
                        nights: nights
                    });
                }
            });

            // Get meal type description and info
            const mealTypes = {
                'breakfast': translations[currentLang].breakfastLabel,
                'noBreakfast': translations[currentLang].noBreakfastLabel,
                'halfBoard': translations[currentLang].halfBoardLabel,
                'fullBoard': translations[currentLang].fullBoardLabel
            };

            // Sempre incluir informa√ß√µes das pens√µes no WhatsApp
            let mealInfoNotice = '';
            if (mealType === 'halfBoard') {
                mealInfoNotice = translations[currentLang].halfBoardNotice;
            } else if (mealType === 'fullBoard') {
                mealInfoNotice = translations[currentLang].fullBoardNotice;
            }

            // Format dates for WhatsApp message
            const formatDateForMessage = (dateString) => {
                if (!dateString) return '-';
                const date = new Date(dateString);
                return date.toLocaleDateString('pt-BR');
            };

            // Generate group details for WhatsApp
            let groupDetailsText = '';
            groupDetails.forEach((group, index) => {
                groupDetailsText += `‚Ä¢ ${currentLang === 'pt' ? 'Grupo' : 
                                   currentLang === 'en' ? 'Group' :
                                   currentLang === 'fr' ? 'Groupe' : 
                                   'Grupo'} ${index + 1}: ${group.quantity} ${currentLang === 'pt' ? 'apartamento(s)' : 
                                                                           currentLang === 'en' ? 'apartment(s)' :
                                                                           currentLang === 'fr' ? 'appartement(s)' : 
                                                                           'apartamento(s)'} ‚Ä¢ ${group.guests} ${currentLang === 'pt' ? 'h√≥spede(s)' : 
                                                                                                              currentLang === 'en' ? 'guest(s)' :
                                                                                                              currentLang === 'fr' ? 'client(s)' : 
                                                                                                              'hu√©sped(es)'}\n`;
                groupDetailsText += `  ${formatDateForMessage(group.checkIn)} - ${formatDateForMessage(group.checkOut)} (${group.nights} ${currentLang === 'pt' ? 'noites' : 
                                                                                                              currentLang === 'en' ? 'nights' :
                                                                                                              currentLang === 'fr' ? 'nuits' : 
                                                                                                              'noches'})\n\n`;
            });

            // Create WhatsApp message - SEM PRE√áOS
            const message = `üè® *ICARA√ç PRAIA HOTEL*\n\n` +
                   
                   `‚úÖ ${currentLang === 'pt' ? 'COTA√á√ÉO DE RESERVA' : 
                         currentLang === 'en' ? 'RESERVATION QUOTATION' :
                         currentLang === 'fr' ? 'DEVIS DE R√âSERVATION' : 
                         'COTIZACI√ìN DE RESERVA'}\n\n` +
                   
                   `${currentLang === 'pt' ? 'Conforme sua solicita√ß√£o, seguem nossas melhores tarifas e condi√ß√µes:' :
                     currentLang === 'en' ? 'As per your request, here are our best rates and conditions:' :
                     currentLang === 'fr' ? 'Conform√©ment √† votre demande, voici nos meilleurs tarifs et conditions :' : 
                     'Conforme a su solicitud, aqu√≠ est√°n nuestras mejores tarifas y condiciones:'}\n\n` +
                   
                   `üë§ *${currentLang === 'pt' ? 'H√≥spede Principal:' : 
                         currentLang === 'en' ? 'Main Guest:' :
                         currentLang === 'fr' ? 'Client Principal :' : 
                         'Hu√©sped Principal:'}* ${guestName || (currentLang === 'pt' ? 'N√£o informado' : 
                                                              currentLang === 'en' ? 'Not informed' :
                                                              currentLang === 'fr' ? 'Non inform√©' : 
                                                              'No informado')}\n\n` +
                   
                   `üè† *${currentLang === 'pt' ? 'Configura√ß√£o de Grupos:' : 
                         currentLang === 'en' ? 'Group Configuration:' :
                         currentLang === 'fr' ? 'Configuration des Groupes :' : 
                         'Configuraci√≥n de Grupos:'}*\n` +
                   `${groupDetailsText}\n` +
                   
                   `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ *${currentLang === 'pt' ? 'N√∫mero total de h√≥spedes:' : 
                         currentLang === 'en' ? 'Total number of guests:' :
                         currentLang === 'fr' ? 'Nombre total d\'invit√©s :' : 
                         'N√∫mero total de hu√©spedes:'}* ${totalGuests}\n` +
                   `üçΩÔ∏è *${currentLang === 'pt' ? 'Tipo de Refei√ß√£o:' : 
                         currentLang === 'en' ? 'Meal Type:' :
                         currentLang === 'fr' ? 'Type de Repas :' : 
                         'Tipo de Comida:'}* ${mealTypes[mealType]}\n` +
                   `‚úÖ *${currentLang === 'pt' ? 'N√∫mero total de noites:' : 
                         currentLang === 'en' ? 'Total number of nights:' :
                         currentLang === 'fr' ? 'Nombre total de nuits :' : 
                         'N√∫mero total de noches:'}* ${totalNights}\n` +
                   `üöó *${currentLang === 'pt' ? 'Estacionamento:' : 
                         currentLang === 'en' ? 'Parking:' :
                         currentLang === 'fr' ? 'Stationnement :' : 
                         'Estacionamiento:'}* ${parking === 'yes' ? 
                        (currentLang === 'pt' ? 'Sim' : 
                         currentLang === 'en' ? 'Yes' :
                         currentLang === 'fr' ? 'Oui' : 
                         'S√≠') : 
                        (currentLang === 'pt' ? 'N√£o' : 
                         currentLang === 'en' ? 'No' :
                         currentLang === 'fr' ? 'Non' : 
                         'No')}\n\n` +
                   
                   `${mealInfoNotice ? `üçΩÔ∏è *${currentLang === 'pt' ? 'Detalhes das Refei√ß√µes:' : 
                                           currentLang === 'en' ? 'Meal Details:' :
                                           currentLang === 'fr' ? 'D√©tails des Repas :' : 
                                           'Detalles de las Comidas:'}*\n${mealInfoNotice}\n\n` : ''}` +
                   
                   `üü¢ *${currentLang === 'pt' ? 'Servi√ßos Inclusos:' : 
                         currentLang === 'en' ? 'Included Services:' :
                         currentLang === 'fr' ? 'Services Inclus :' : 
                         'Servicios Incluidos:'}*\n` +
                   `‚Ä¢ ${currentLang === 'pt' ? 'Apartamentos Standard com Smart TV, ar condicionado, telefone, frigobar, internet e cofre individual' :
                         currentLang === 'en' ? 'Standard Apartments with Smart TV, air conditioning, telephone, minibar, internet and individual safe' :
                         currentLang === 'fr' ? 'Appartements Standard avec Smart TV, climatisation, t√©l√©phone, minibar, internet et coffre-fort individuel' : 
                         'Apartamentos Standard con Smart TV, aire acondicionado, tel√©fono, minibar, internet y caja fuerte individual'}\n` +
                   `${mealType !== 'noBreakfast' ? `‚Ä¢ ${currentLang === 'pt' ? 'Caf√© da manh√£ incluso das 6h √†s 10h, servido no restaurante' :
                                                   currentLang === 'en' ? 'Breakfast included from 6am to 10am, served in the restaurant' :
                                                   currentLang === 'fr' ? 'Petit d√©jeuner inclus de 6h √† 10h, servi au restaurant' : 
                                                   'Desayuno incluido de 6h a 10h, servido en el restaurante'}\n` : ''}` +
                   `‚Ä¢ ${currentLang === 'pt' ? 'Internet (wi-fi)' :
                         currentLang === 'en' ? 'Internet (wi-fi)' :
                         currentLang === 'fr' ? 'Internet (wi-fi)' : 
                         'Internet (wi-fi)'}\n` +
                   `‚Ä¢ ${currentLang === 'pt' ? 'Restaurante pr√≥prio (das 6h √†s 22h)' :
                         currentLang === 'en' ? 'Own restaurant (from 6am to 10pm)' :
                         currentLang === 'fr' ? 'Restaurant propre (de 6h √† 22h)' : 
                         'Restaurante propio (de 6h a 22h)'}\n\n` +
                   
                   `‚ÑπÔ∏è *${currentLang === 'pt' ? 'Informa√ß√µes Importantes:' : 
                         currentLang === 'en' ? 'Important Information:' :
                         currentLang === 'fr' ? 'Informations Importantes :' : 
                         'Informaci√≥n Importante:'}*\n\n` +
                   
                   `${currentLang === 'pt' ? '‚Ä¢ Check-in: 14:00 / Check-out: 12:00' :
                         currentLang === 'en' ? '‚Ä¢ Check-in: 14:00 / Check-out: 12:00' :
                         currentLang === 'fr' ? '‚Ä¢ Check-in: 14:00 / Check-out: 12:00' : 
                         '‚Ä¢ Check-in: 14:00 / Check-out: 12:00'}\n` +
                   `${currentLang === 'pt' ? '‚Ä¢ N√£o aceitamos Pets' :
                         currentLang === 'en' ? '‚Ä¢ We do not accept Pets' :
                         currentLang === 'fr' ? '‚Ä¢ Nous n\'acceptons pas les animaux' : 
                         '‚Ä¢ No aceptamos mascotas'}\n` +
                   `${currentLang === 'pt' ? '‚Ä¢ Estacionamento: R$ 45,00 por dia - sujeito √† disponibilidade' :
                         currentLang === 'en' ? '‚Ä¢ Parking: R$ 45.00 per day - subject to availability' :
                         currentLang === 'fr' ? '‚Ä¢ Stationnement: R$ 45,00 par jour - sous r√©serve de disponibilit√©' : 
                         '‚Ä¢ Estacionamiento: R$ 45,00 por d√≠a - sujeto a disponibilidad'}\n\n` +
                   
                   `üí≥ *${currentLang === 'pt' ? 'Pol√≠tica de Pagamento para Grupos:' : 
                         currentLang === 'en' ? 'Group Payment Policy:' :
                         currentLang === 'fr' ? 'Politique de Paiement pour Groupes :' : 
                         'Pol√≠tica de Pago para Grupos:'}*\n` +
                   `${currentLang === 'pt' ? 'Toda reserva de grupo requer pr√©-pagamento integral antecipado ou 50% logo ap√≥s a confirma√ß√£o e o restante em at√© 15 dias antes do Check-in.' :
                         currentLang === 'en' ? 'All group reservations require full prepayment in advance or 50% upon confirmation and the remainder up to 15 days before Check-in.' :
                         currentLang === 'fr' ? 'Toute r√©servation de groupe n√©cessite un pr√©paiement int√©gral √† l\'avance ou 50% d√®s confirmation et le reste jusqu\'√† 15 jours avant l\'arriv√©e.' : 
                         'Toda reserva de grupo requiere prepago integral anticipado o 50% tras la confirmaci√≥n y el resto hasta 15 d√≠as antes del Check-in.'}\n\n` +
                   
                   `${currentLang === 'pt' ? 'Cota√ß√£o v√°lida por 24 horas. Tarifas e disponibilidade podem mudar ap√≥s a expira√ß√£o.' :
                         currentLang === 'en' ? 'Quotation valid for 24 hours. Rates and availability may change after expiration.' :
                         currentLang === 'fr' ? 'Devis valable 24 heures. Les tarifs et la disponibilit√© peuvent changer apr√®s expiration.' : 
                         'Cotizaci√≥n v√°lida por 24 horas. Las tarifas y disponibilidad pueden cambiar despu√©s de la expiraci√≥n.'}\n\n` +
                   
                   `${currentLang === 'pt' ? 'Agradecemos sua confian√ßa!' :
                         currentLang === 'en' ? 'Thank you for your trust!' :
                         currentLang === 'fr' ? 'Merci de votre confiance !' : 
                         '¬°Gracias por su confianza!'}\n\n` +
                   
                   `${currentLang === 'pt' ? 'Atenciosamente,' :
                         currentLang === 'en' ? 'Sincerely,' :
                         currentLang === 'fr' ? 'Cordialement,' : 
                         'Atentamente,'}\n` +
                   `*${currentLang === 'pt' ? 'Equipe de Reservas' :
                         currentLang === 'en' ? 'Reservations Team' :
                         currentLang === 'fr' ? 'Service des R√©servations' : 
                         'Equipo de Reservas'}*\n` +
                   `*ICARA√ç PRAIA HOTEL*\n` +
                   `üìû (21) 2612-5030\n` +
                   `üìß reservas@icaraipraiahotel.com.br`;
            
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank');
        }
    </script>
</body>
</html>
